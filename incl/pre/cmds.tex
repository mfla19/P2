% cmds.tex : brugerdefinerede makroer og blokke
% ------------------------------------------------------------------------------
% Denne fil indeholder definitioner for egne makroer og blokke, der bruges som
% genvejsfunktioner for ofte brugte kommandoer og tekst i rapporten.

% Matematiske symboler ---------------------------------------------------------
\newcommand{\N}{\mathbb{N}}          % naturlige tal
\newcommand{\Z}{\mathbb{Z}}          % heltal
\newcommand{\Q}{\mathbb{Q}}          % rationelle tal
\newcommand{\R}{\mathbb{R}}          % reelle tal
\newcommand{\C}{\mathbb{C}}          % komplekse tal
\newcommand{\ind}{\mathbbm{1}}       % indikatorfunktion
\newcommand{\bigO}{\mathcal{O}}      % store-O notation
%\renewcommand{\vec}[1]{\bm{#1}}      % skriv vektorer med fed skrift

% Sætninger o.lign. ------------------------------------------------------------
% http://www.ctex.org/documents/packages/math/amsthdoc.pdf
\theoremstyle{plain}                 % Titel med fed, tekst med skråskrift
%\newtheorem{thm}{Sætning}[chapter]   % Sætninger, nummereret efter kapitel
%\newtheorem{lem}[thm]{Lemma}         % Lemmaer, nummereret ligesom sætninger
%\newtheorem{prop}[thm]{Proposition}  % Propositioner, nummereret ligesom sætninger
%\newtheorem*{cor}{Korollar}         % Korollarer, unnumbered

\newcommand{\rvect}[1]{\begin{bmatrix} #1 \end{bmatrix}}


\newtcolorbox{stncol}
{colback={gray!20}, colframe=black,boxrule=0pt,leftrule=3.5pt, sharp corners
} %Boks til sætninger, definitioner osv.

\newtcolorbox{eksempelboks}
{enforce breakable, colback={white}, boxrule=0pt, colframe={gray!100}, leftrule=3.5pt, sharp corners
} % boks til eksempler


\newcounter{nyctr} %tæller til alting
\numberwithin{nyctr}{chapter}

\DeclareCaptionFormat{listing}{\rule{\dimexpr\textwidth\relax}{0.4pt}\par\vskip1pt #1#2#3} %laver captions til listings med en linje over.

\captionsetup[lstlisting]{format=listing,singlelinecheck=false, margin=0pt,labelsep=quad,
labelfont={up,bf}} %setup af captions til alg.

\lstdefinestyle{ingental}{
numbers=none,xleftmargin=0em,  framexleftmargin=0em}

% laver et nyt dokument, hvor referencer til algoritmer gemmes
\newcommand{\lstlistalgname}{Algoritmer}
\lst@UserCommand\lstlistofalg{\bgroup 
	\let\contentsname\lstlistalgname
    \let\lst@temp\@starttoc \def\@starttoc##1{\lst@temp{lok}}
    \tableofcontents \egroup}

%laver nyt dokument hvor referencer til procedurer gemmes
\newcommand{\lstlistproname}{Procedurer}
\lst@UserCommand\lstlistofpro{\bgroup
    \let\contentsname\lstlistproname
    \let\lst@temp\@starttoc \def\@starttoc##1{\lst@temp{lop}}
    \tableofcontents \egroup}

\lstnewenvironment{alg}[2][]
{\renewcommand{\lstlistingname}{Algoritme}
\refstepcounter{nyctr} 
\addcontentsline{lok}{lstlisting}{\protect\numberline{\thenyctr} #2}
\lstset{basicstyle=\small\normalfont, keywordstyle=\bfseries\color{AAUblue1}, commentstyle=\itshape\color{commentgreen},#1,caption={#2}} 
}{}



\lstnewenvironment{pro}[2][]
{\refstepcounter{nyctr}
\addcontentsline{lop}{lstlisting}{\protect\numberline{\thenyctr} #2}
\renewcommand{\lstlistingname}{Procedure}
\lstset{basicstyle=\small\normalfont,keywordstyle=\normalfont,
#1,caption={#2}} 
}{}

%\lstnewenvironment{alg}[2][]
%{\refstepcounter{nyctr}\lstset{basicstyle=\small\normalfont,
%  keywordstyle=\bfseries\color{AAUblue1},
%  commentstyle=\itshape\color{commentgreen},#1}  
%\vspace{0.3cm}
%\hrule \vspace{1mm}
%\noindent \textbf{Algoritme \thenyctr} \hspace{0.3cm} #2 \vspace{1mm}
%\hrule
%}{
%\vspace{1mm}
%\hrule
%  \vspace{0.3cm}
%}


%\lstnewenvironment{pro}[2][]
%{\refstepcounter{nyctr} \lstset{basicstyle=\small\normalfont,
%  keywordstyle=\color{black},
%  commentstyle=\itshape\color{black},#1}  
%\vspace{0.3cm}
%\hrule \vspace{1mm}
%\noindent \textbf{Procedure \thenyctr} \hspace{0.3cm} #2 \vspace{1mm}
%\hrule
%\vspace{1mm}
%}{
%\vspace{1mm}
%\hrule
%  \vspace{0.3cm}
%}

\newenvironment{stn}[1][]
{ \refstepcounter{nyctr}
\vspace{0.3cm}
  \begin{stncol}  
\textbf{Sætning \thenyctr \hspace{0.3cm} #1}
  \newline
}{
  \end{stncol}
  \vspace{0.3cm}
}



\newenvironment{lma}[1][]
{ \refstepcounter{nyctr}
  \vspace{0.3cm}
  \begin{stncol}  
  \textbf{Lemma \thenyctr \hspace{0.3cm} #1} 
  \newline
}{
  \end{stncol}
  \vspace{0.3cm}
}



\newenvironment{prop}[1][]
{ \refstepcounter{nyctr}
  \vspace{0.3cm}
  \begin{stncol}
\textbf{Proposition \thenyctr \hspace{0.3cm} #1} 
  \newline
}{
  \end{stncol}
  \vspace{0.3cm}
}


\newenvironment{kor}[1][]
{ \refstepcounter{nyctr}
  \vspace{0.3cm}
  \begin{stncol}
\textbf{Korollar \thenyctr \hspace{0.3cm} #1} 
  \newline
}{
  \end{stncol}
  \vspace{0.3cm}
}


\newenvironment{eks}[1][]
{ \refstepcounter{nyctr}
  \vspace{0.3cm}
  \begin{eksempelboks}
\textbf{Eksempel \thenyctr \hspace{0.3cm} #1} 
  \newline
}{    
  \end{eksempelboks}
  \vspace{0.3cm}
}



\newenvironment{defn}[1][]
{ \refstepcounter{nyctr}
  \vspace{0.3cm}
  \begin{stncol}
\textbf{Definition \thenyctr \hspace{0.3cm} #1} 
  \newline
}{
  \end{stncol}
  \vspace{0.3cm}
}

\newenvironment{tab}[1][]
{ \refstepcounter{nyctr}
  \vspace{0.3cm}
  \begin{stncol}
\textbf{Tabel \thenyctr \hspace{0.3cm} #1} 
  \newline
}{
  \end{stncol}
  \vspace{0.3cm}
}

\newenvironment{bem}[1][]
{ \refstepcounter{nyctr}
  \vspace{0.3cm}
  \begin{stncol}
\textbf{Bemærkning \thenyctr \hspace{0.3cm} #1} 
  \newline
}{
  \end{stncol}
  \vspace{0.3cm}
}


% Figur-makroer ----------------------------------------------------------------

% imgfig ("image figure")
% Makro til at indsætte et billede fra fig/img-mappen
% Argumenter:
%   * (valgfri) figurbredde; procent af sidebredde (standard: 0.75)
%   * filnavn (uden fig/img/ eller filendelse); også brugt til label
%   * figurteksten
% Eksempler:
%   \imgfig{filnavn}{Figurteksten skrives her}
%   \imgfig[0.5]{filnavn}{Figurteksten skrives her}
\newcommand{\imgfig}[3][0.75]{
  \begin{figure}[htbp]
    \centering
    \includegraphics[width=#1\textwidth]{fig/img/#2}
    \caption{#3}
    \label{fig:#2}
  \end{figure}
}

% dimgfig ("double image figure")
% Makro til at indsætte to billeder ved siden af hinanden
% Argumenter:
%   * (valgfri) breddefordeling (standard: 0.5, dvs. lige fordeling)
%   * filnavn for den venstre figur, uden fig/img/ eller filendelse
%   * billedtekst for den venstre figur
%   * filnavn for den højre figur, uden fig/img/ eller filendelse
%   * billedtekst for den højre figur
% Eksempler:
%   \dimgfig{billede1}{Første billedtekst}{billede2}{Anden billedtekst}
%   \dimgfig[0.3]{billede1}{Første billedtekst}{billede2}{Anden billedtekst}
% Alterativt, se
% https://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions#Subfloats
\newcommand{\dimgfig}[5][0.5]{
  \ifx\dimgleftwidth\undefined
    \newlength{\dimgleftwidth}
    \newlength{\dimgrightwidth}
  \fi
  \setlength{\dimgleftwidth}{#1\textwidth-0.02\textwidth}
  \setlength{\dimgrightwidth}{0.96\textwidth-\dimgleftwidth}
  \begin{figure}[htbp]
    \centering
    \begin{minipage}[t]{\dimgleftwidth}
      \centering
      \includegraphics[width=\linewidth]{fig/img/#2}
      \caption{#3}
      \label{fig:#2}
    \end{minipage}
    \hfill
    \begin{minipage}[t]{\dimgrightwidth}
      \centering
      \includegraphics[width=\linewidth]{fig/img/#4}
      \caption{#5}
      \label{fig:#4}
    \end{minipage}
  \end{figure}
}
%
%\lstdefinelanguage{kode}{
%    morekeywords={i,hvis,returner,for,def},
%    sensitive=false, % keywords are not case-sensitive
%    morecomment=[l]{//}, % l is for line comment
%    morecomment=[s]{/*}{*/}, % s is for start and end delimiter
%    morestring=[b]" % defines that strings are enclosed in double quotes
%}
%\lstset
%{ %Formatting for code in appendix
%    language=kode,
%    basicstyle=\ttfamily\footnotesize,
%    numbers=left,
%    xleftmargin=2em,
%    %frame=single,
%    %framexleftmargin=1.5em
%    stepnumber=1,
%    showstringspaces=false,
%    tabsize=1,
%    breaklines=true,
%    breakatwhitespace=false,
%}